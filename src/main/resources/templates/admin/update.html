<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout}" data-sidebar="light">

<th:block layout:fragment="pagetitle">
    <div th:replace="~{partials/title-meta :: title-meta('직원 정보 상세')}"></div>
</th:block>

<head>
<style>
/* 사번, 개인번호, 주민등록번호, 주소, 상세주소, 입사일, 퇴사일 */
#lastnameInput, #phonenumberInput, #emailInput, #addressInput, #addressDetailInput,
#hireDateInput, #endDateInput {
    background-color: #eeeeeea8;
    border: 1px solid #e6e6e6;
}
</style>
</head>

<body>
    <div layout:fragment="content">
        <div th:replace="partials/page-title :: page-title('직원 정보 관리','직원 관리')"></div>
        <div class="row">
            <div class="col-lg-12">
                <div class="card body">
                    <!-- ----------------------탭---------------------------- -->
                    <div class="card-header">
                        <ul class="nav nav-tabs-custom rounded card-header-tabs border-bottom-0" role="tablist">
                            <li class="nav-item col-lg-1"><a class="nav-link active" data-bs-toggle="tab" href="#personalDetails" role="tab" style="font-size: 18px; text-align: center; font-weight: bold;"> <i class="fas fa-home"></i> 직원 정보
                            </a></li>
                        </ul>
                    </div>

                    <div class="card-body">
                        <div class="tab-content">
                            <!-- ------------------------직원 정보----------------------------- -->
                            <div class="tab-pane active" id="personalUpdate" role="tabpanel">
                                <form th:action="@{/admin/update/{empId}(empId=${employeeUpdate.empId})}" th:object="${employeeUpdate}" method="post">
                                    <div class="row">
                                        <!-- 이름 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="firstnameInput" class="form-label">이름<span class="text-danger">*</span></label>
                                                <input type="text" class="form-control" id="firstnameInput" th:field="*{empName}">
                                            </div>
                                        </div>

                                        <!-- 사번 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="lastnameInput" class="form-label">사번</label>
                                                <input type="text" class="form-control" id="lastnameInput" th:field="*{empId}" readonly>
                                            </div>
                                        </div>

                                        <!-- 개인 번호 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="phonenumberInput" class="form-label">개인 번호</label>
                                                <input type="text" class="form-control" id="phonenumberInput" th:field="*{empPhone}" readonly>
                                            </div>
                                        </div>

                                        <!-- 주민 등록 번호 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="emailInput" class="form-label">주민 등록 번호</label>
                                                <input type="text" class="form-control" id="emailInput" th:field="*{empSsn}" readonly>
                                            </div>
                                        </div>

                                        <!-- 주소 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="addressInput" class="form-label">주소</label>
                                                <input type="text" class="form-control" id="addressInput" th:field="*{empAddress}" readonly>
                                            </div>
                                        </div>

                                        <!-- 상세 주소 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="addressDetailInput" class="form-label">상세 주소</label>
                                                <input type="text" class="form-control" id="addressDetailInput" th:field="*{empAddressDetail}" readonly>
                                            </div>
                                        </div>

                                        <!-- 부서 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="departmentInput" class="form-label">부서<span class="text-danger">*</span></label>
                                                <select class="form-control" id="departmentInput" th:field="*{deptNo}">
                                                    <option value="" disabled>부서를 선택하세요.</option>
                                                    <option th:each="dept : ${departments}" 
                                                            th:value="${dept.deptNo}" 
                                                            th:text="${dept.deptName}"
                                                            th:selected="${dept.deptNo} == ${employeeUpdate.deptNo}"></option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- 직급 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="jobInput" class="form-label">직급<span class="text-danger">*</span></label>
                                                <select class="form-control" id="jobInput" th:field="*{jobNo}">
                                                    <option value="" disabled>직급을 선택하세요.</option>
                                                    <option th:each="job : ${jobs}" 
                                                            th:value="${job.jobNo}" 
                                                            th:text="${job.jobName}"
                                                            th:selected="${job.jobNo} == ${employeeUpdate.jobNo}"></option>
                                                </select>
                                            </div>
                                        </div>

                                        <!-- 입사일 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="hireDateInput" class="form-label">입사일</label>
                                                <input type="text" class="form-control" id="hireDateInput" th:field="*{empHire}" readonly>
                                            </div>
                                        </div>

                                        <!-- 퇴사일 -->
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="endDateInput" class="form-label">퇴사일</label>
                                                <input type="text" class="form-control" id="endDateInput" th:field="*{empEnd}" readonly>
                                            </div>
                                        </div>

                                        <!-- 완료/취소 버튼 -->
                                        <div class="col-lg-12">
                                            <div class="hstack gap-3 justify-content-end">
                                                <button type="submit" class="btn btn-primary btn-border w-xs">완료</button>
                                                <button type="button" class="btn btn-soft-dark waves-effect waves-light material-shadow-none w-xs" th:onclick="|location.href='@{/admin/detail}'|">취소</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <th:block layout:fragment="pagejs">
        <script src="/assets/libs/prismjs/prism.js"></script>
        <script src="https://cdn.lordicon.com/libs/mssddfmo/lord-icon-2.1.0.js"></script>
        <script src="/assets/js/pages/modal.init.js"></script>
    </th:block>
</body>
</html>
